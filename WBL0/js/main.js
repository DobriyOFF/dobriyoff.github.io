(()=>{"use strict";(()=>{const e=document.getElementById("paymentPermanent"),t=document.querySelector(".payment__permanent-label"),l=document.querySelector(".total__order-btn"),o=document.querySelector(".total-head-price"),n=document.querySelector(".basket__total-currency");t.addEventListener("click",(()=>{e.checked=!1!==e.checked,!1===e.checked?l.textContent="Оплатить "+o.textContent+" "+n.textContent:l.textContent="Заказать"}))})(),(()=>{const e=document.querySelectorAll(".recipient__hints"),t=document.querySelectorAll(".total__order-btn"),l=document.querySelector(".recipient__form-name"),o=document.querySelector(".recipient__form-surname"),n=document.querySelector(".recipient__form-email"),r=document.querySelector(".recipient__form-phone"),d=document.querySelector(".recipient__form-inn"),c=document.getElementById("nameError"),s=document.getElementById("surnameError"),i=document.getElementById("emailError"),a=document.getElementById("telError"),m=document.getElementById("innError"),u=document.querySelector(".payment__permanent-label");t.forEach((e=>{e.addEventListener("click",(()=>{""===l.value&&""===o.value&&""===n.value&&""===d.value&&(c.style.display="inline-block",c.textContent="Укажите имя",l.style.color="#F55123",l.style.borderColor="#F55123",s.style.display="inline-block",s.textContent="Укажите фамилию",o.style.color="#F55123",o.style.borderColor="#F55123",i.style.display="inline-block",i.textContent="Укажите электронную почту",n.style.color="#F55123",n.style.borderColor="#F55123",a.style.display="inline-block",a.textContent="Укажите номер телефона",r.style.color="#F55123",r.style.borderColor="#F55123",m.style.display="inline-block",m.textContent="Укажите индекс",d.style.color="#F55123",d.style.borderColor="#F55123",u.style.color="#F55123")}))}));let y=0;r.addEventListener("input",(e=>{let t=e.target;if((3===t.value.length||7===t.value.length||11===t.value.length||14===t.value.length)&&t.value.length>y){const e=t.value.charAt(t.value.length-1);t.value=t.value.slice(0,t.value.length-1),t.value+=" ",t.value+=e}" "===t.value.charAt(t.value.length-1)&&t.value.length<y&&(t.value=t.value.slice(0,t.value.length-1)),y=t.value.length})),e.forEach((e=>{e.addEventListener("mouseout",(()=>{e.firstElementChild.matches(".recipient__form-name")?/[^А-ЯЁа-яё\s\-]/.exec(e.firstElementChild.value)?(e.lastElementChild.style.display="inline-block",c.textContent=" ",e.firstElementChild.style.color="#F55123",e.firstElementChild.style.borderColor="#F55123"):(e.lastElementChild.style.display="none",e.firstElementChild.style.color="#A0A0A4",e.firstElementChild.style.borderColor="rgba(0, 0, 0, 0.2)"):e.firstElementChild.matches(".recipient__form-surname")?/[^А-ЯЁа-яё\s\-]/.exec(e.firstElementChild.value)?(e.lastElementChild.style.display="inline-block",s.textContent=" ",e.firstElementChild.style.color="#F55123",e.firstElementChild.style.borderColor="#F55123"):(e.lastElementChild.style.display="none",e.firstElementChild.style.color="#A0A0A4",e.firstElementChild.style.borderColor="rgba(0, 0, 0, 0.2)"):e.firstElementChild.matches(".recipient__form-email")?/[^\w\-@.!~*']/gi.exec(e.firstElementChild.value)?(e.lastElementChild.style.display="inline-block",i.textContent="Проверьте адрес электронной почты",e.firstElementChild.style.color="#F55123",e.firstElementChild.style.borderColor="#F55123"):(e.lastElementChild.style.display="none",e.firstElementChild.style.color="#A0A0A4",e.firstElementChild.style.borderColor="rgba(0, 0, 0, 0.2)"):e.firstElementChild.matches(".recipient__form-phone")?(console.log(),/[^\d\(\)\-]/gi.exec(e.firstElementChild.value)?(e.lastElementChild.style.display="inline-block",console.log(e.lastElementChild.style.textContent),e.lastElementChild.style.textContent="Формат: +9 999 999 99 99",e.firstElementChild.style.color="#F55123",e.firstElementChild.style.borderColor="#F55123"):(e.lastElementChild.style.display="none",e.firstElementChild.style.color="#A0A0A4",e.firstElementChild.style.borderColor="rgba(0, 0, 0, 0.2)")):e.firstElementChild.matches(".recipient__form-inn")&&(/[^\d\(\)\-]/gi.exec(e.firstElementChild.value)?(e.lastElementChild.style.display="inline-block",e.lastElementChild.style.textContent="Формат: +9 999 999 99 99",e.firstElementChild.style.color="#F55123",e.firstElementChild.style.borderColor="#F55123"):(e.lastElementChild.style.display="none",e.firstElementChild.style.color="#A0A0A4",e.firstElementChild.style.borderColor="rgba(0, 0, 0, 0.2)"))}))}))})(),document.querySelectorAll(".product__number").forEach((e=>{let t=e.children[0],l=e.children[1],o=e.children[2],n=e.querySelector(".product__pieces-left"),r=e.querySelector(".product__pieces-left");r=null!=r?+t.value+ +r.textContent:300,o.addEventListener("click",(()=>{t.value<r&&(t.value=+t.value+1,null!=n&&(n.textContent-=1))})),l.addEventListener("click",(()=>{t.value>0&&(t.value=+t.value-1,null!=n&&(n.textContent=+n.textContent+1))}))})),(()=>{let e=document.querySelectorAll(".basket__label-checkbox"),t=document.querySelector(".basket__header-checkbox");document.querySelectorAll(".basket__btn-wrapper");const l=document.querySelectorAll(".basket__btn"),o=document.getElementById("basketListFirst"),n=document.getElementById("basketBtnFirst"),r=document.getElementById("basketListSecond"),d=document.getElementById("basketBtnSecond");let c=e.length,s=0;e.forEach((l=>{l.addEventListener("click",(()=>{for(l of e)!0===l.checked&&(s+=1);t.checked=!0===l.checked&&s===c,s=0}))})),t.addEventListener("click",(()=>{e.forEach((e=>{e.checked=!0===t.checked}))})),l.forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("active"),console.log(o)}))})),n.addEventListener("click",(()=>{o.classList.toggle("disable")})),d.addEventListener("click",(()=>{r.classList.toggle("disable")}))})(),(()=>{let e=document.querySelectorAll(".basket__item"),t=document.querySelectorAll(".missing__item"),l=document.querySelector(".missing__basket-col");e.forEach((e=>{void 0!==e.childNodes[3]&&e.childNodes[3].childNodes[1].childNodes[7].childNodes[3].childNodes[3].addEventListener("click",(()=>{e.remove()}))})),t.forEach((e=>{e.childNodes[1].childNodes[5].childNodes[1].childNodes[3].addEventListener("click",(()=>{l.textContent=+l.textContent-1,console.log(l.textContent),e.remove()}))}))})(),(()=>{const e=document.querySelectorAll(".info__free"),t=document.querySelectorAll(".tooltip__delivery-info"),l=document.querySelectorAll(".basket__item"),o=document.querySelectorAll(".product__price");e.forEach((e=>{t.forEach((t=>{e.addEventListener("mouseover",(()=>{t.style.display="inline-block"})),e.addEventListener("mouseout",(()=>{t.style.display="none"}))}))})),l.forEach((e=>{if(void 0!==e.childNodes[3]){let t=e.childNodes[3].childNodes[1].childNodes[5].childNodes[9].childNodes[1];t.addEventListener("mouseover",(()=>{e.childNodes[3].childNodes[1].childNodes[5].childNodes[11].style.display="inline-block"})),t.addEventListener("mouseout",(()=>{e.childNodes[3].childNodes[1].childNodes[5].childNodes[11].style.display="none"}))}})),o.forEach((e=>{if(void 0!==e.childNodes[3]){let t=e.childNodes[3];t.addEventListener("mouseover",(()=>{e.childNodes[5].style.display="flex"})),t.addEventListener("mouseout",(()=>{e.childNodes[5].style.display="none"}))}}))})(),(()=>{const e=document.querySelector(".modal__overlay"),t=document.querySelector(".modal__callback"),l=document.querySelector(".modal__overlay-delivery"),o=document.querySelector(".modal__callback-delivery");document.addEventListener("click",(l=>(l=>{(l.target.closest(".paymet__method-btn")||l.target.closest(".total__payment-btn-svg"))&&(l.preventDefault(),t.style.display="block",e.style.display="block"),(l.target.closest(".modal__close-svg")||l.target.closest(".modal__overlay")||l.target.closest(".modal__footer-btn"))&&(t.style.display="none",e.style.display="none")})(l))),document.addEventListener("click",(e=>(e=>{(e.target.closest(".delivery__method-btn")||e.target.closest(".total__delivery-btn-svg"))&&(e.preventDefault(),o.style.display="block",l.style.display="block"),(e.target.closest(".modal__close-svg")||e.target.closest(".modal__overlay-delivery")||e.target.closest(".modal__footer-btn"))&&(o.style.display="none",l.style.display="none")})(e)))})(),(()=>{const e=document.querySelector(".recipient__form-name"),t=document.querySelector(".recipient__form-surname"),l=document.querySelector(".recipient__form-email"),o=document.querySelector(".recipient__form-phone"),n=document.querySelector(".recipient__form-inn"),r=document.getElementById("agreeMount");document.addEventListener("click",(d=>(d=>{if((d.target.closest(".total__order-btn")||d.target.closest(".footer__menu"))&&d.target.matches("button")){console.log(),d.preventDefault();const c=d.target.getAttribute("href");""!=e.value&&""!=t.value&&""!=l.value&&""!=o.value&&""!=n.value&&r.checked||document.querySelector(c).scrollIntoView({behavior:"smooth",block:"start"})}})(d)))})()})();